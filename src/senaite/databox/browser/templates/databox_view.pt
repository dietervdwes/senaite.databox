<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="senaite.databox">
  <body>

    <metal:content-core fill-slot="content-core">
      <form name="edit_form"
            method="post"
            i18n:domain="senaite.core"
            enctype="multipart/form-data"
            tal:attributes="action string:${here/absolute_url}/@@edit">

        <!-- ReactJS managed component -->
        <div class="databox"
             tal:attributes="view/settings">
        </div>
        <metal:actions metal:use-macro="context/@@ploneform-macros/actions"/>
        <!-- hidden fields -->
        <input type="hidden" name="form.widgets.IBasic.title" tal:attributes="value here/title" />
        <input type="hidden" name="form.widgets.IDataBoxBehavior.limit" tal:attributes="value here/limit" />
        <!-- submit -->
        <input class="btn btn-sm btn-primary" type="submit" name="form.buttons.save" value="Update" />
      </form>

      <div id="viewlet-above-listing-table" tal:content="structure provider:senaite.abovelistingtable" />
      <div id="folderlisting-main-table"
           tal:content="structure view/contents_table">
      </div>
      <div id="viewlet-below-content-table" tal:content="structure provider:senaite.belowlistingtable" />
    </metal:content-core>

  </body>
</html>
